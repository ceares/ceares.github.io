---
title: JavaScript 的加法陷阱
tags: [JavaScript,QA,HTML,加法陷阱]
categories: qa
---

<p>
由于&nbsp;JavaScript&nbsp;中的变量是弱类型，因而在加法运算时极易产生歧义：&nbsp;<button onclick="count()">举个“栗子”</button>
</p>

<script language="javascript">
function count() {
	var a = document.getElementById("a").value;
	var b = document.getElementById("b").value;	
    document.getElementById("inc").innerHTML = a+b;
	document.getElementById("dec").innerHTML = a-(-b);
	document.getElementById("times").innerHTML = Math.round(a*1.0+b);
}
</script>

<form id="cmp">
<table id="test" border="1" cellpadding="10" cellspacing="0" >	
<thead style="text-align:center"><tr> <th>a</th> <th>b</th> <th>a+b</th> <th>a-(-b)</th> <th>round(a*1.0+b)</th></tr></thead>
<tbody style="text-align:right"> <tr>  	
	<td><input type="number" id="a" value="3"></td> 	
	<td><input type="number" id="b" value="4"></td>	
	<td><span id="inc"></span></td>	
	<td><span id="dec"></span></td> 
	<td><span id="times"></span></td> </tr>
</tbody> </table> </form>

<p>
由此可见，JavaScript&nbsp;将数字的加法当成了字符串“连接”操作。
</p>

<p>
解决方法：更改加法的方式，如&nbsp;<code>a-(-b)</code>&nbsp;或&nbsp;<code>a*1.0+b</code>&nbsp;，使其只能把变量当作数字执行操作。
</p>