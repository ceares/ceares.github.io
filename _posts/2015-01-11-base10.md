---
title: 漫谈进位制：两步确定多项式的各项系数
tags: [数学,算法,进位制]
---

* TOC
{:toc}

# 一、两步确定多项式的各项系数

黑匣子里有一个关于 $x$ 的多项式 $P(x)$ ，其项数未知，但各项的系数都是正整数。如果给黑匣子输入一个数 $z$，黑匣子将返回多项式 $P(z)$ 的值。  

![every errbase is 10](/img/base10.gif)
 
试问：如何在两步之内还原出整个多项式？

1. 输入 $1$ ，于是便得到整个多项式的所有系数之和。不妨把和记作 $s$；
2. 输入 $s + 1$ ，于是黑匣子返回 $a_n * (s + 1)^n + a_{n-1} * (s + 1)^{n-1} + … + a_1 * (s + 1) + a_0$；
3. 把该值转换成 $s + 1$ 进制，依次读出每一位上的数，它们就是多项式的各项系数了。

# 二、举一反三

上述示例其实也说明，学习知识不能墨守成规，应当融汇贯通。很多人学习二进制、八进制与十六进制的时候根本不会深入思考。其实有时从进制的角度去看待问题，也许能发现一个不同的世界，帮助你解决许多原本棘手的问题。

## 1、多项式的乘法

譬如 $(x+a)(x+b)$ 可以看作 $x$ 进制的乘法，也就是 $1a \times 1b$ ，仿照十进制乘法的计算规则可以得到：
  
<p>
\begin{matrix}&&1&a \\
\times&&1&b\\\hline
&&b\times 1&b\times a\\
+&1\times 1&1\times a&\\\hline
&1&a+b&ab\end{matrix}
</p> 
 
将上述 $x$ 进制的结果 $1\,\,\,(a+b)\,\,\,ab$ 转为 10 进制（按权重展开），即为 $1\times x^2+(a+b)\times x^1+(ab)\times x^0$。

## 2、整除

大家都知道一个数是否能被 2 整除只需要看它的个位能否被 2 整除即可，可是你想过为什么吗？这是因为 10 能被 2 整除。

而看一个数能否被 3 整除只需要看各位数之和是否能被 3 整除，这又是为什么呢？因为 $10^n-1$ 总能被 3 整除。如：2345 可以写成 $2 \times  (999+1) + 3 \times  (99+1) + 4 \times  (9+1) + 5$，展开就是 $2 \times  999+3 \times  99+4 \times  9 + (2+3+4+5)$。因此 2345 能否被 3 整除就只需要看 $(2+3+4+5)$ 能否被 3 整除了。

## 3、十六进制

最后举个有趣的“栗子”：你面前有 20 盏灯，每盏灯都处于亮、灭其中一种状态，请你在 1 分钟内记住所有灯的状态，请问你如何做到？  

很简单，假设亮为 1，灭为 0，20 盏灯对应一个 20 位的二进制数，将其转化为 32 进制的数，仅有 4 位数。

之所以选择 32 进制，主要基于两点考虑：

1. 数字加英文字母（不考虑）大小写一共 36 个，因此最好进制不超过 36，这样不仅容易记住每一位的数，而且还很容易映射到十进制；
2. 由于 $2^5=32$，32 进制的每一位数都对应 5 盏灯的状态，因此与二进制的转换也十分便捷。

同理，计算机使用二进制，位数冗长，难数难记，由此十六进制应运而生。

# 三、求解概率问题

> 问题：同时抛掷 10 枚硬币，出现下面哪种情况的可能性更大一些？
>  
> - 正面朝上的硬币数量为偶数
> - 正面朝上的硬币数量为奇数
> - 上述两种情况的出现概率相同
 
事实上，把 10 换成任意正整数，这个问题的答案都不会变——正面朝上的硬币个数是奇是偶的概率一样大。抛掷 n 枚硬币的结果可以用一个 n 位的二进制数 b 表示，不妨用 1 表示正面向上，显然，b 的每一位由全为 0 增加到全为 1 的过程中，偶数个 1 的情况与奇数个 1 出现的次数相等。

> 问题：魔术师把一枚正常的硬币展示给观众看，然后说：“接下来，我会抛掷这枚硬币，每次它都将正面朝上。”观众听闻后议论纷纷，魔术师趁机迅速地把这枚正常的硬币换成了一枚两面都是正面的硬币。魔术师连掷 10 次硬币，次次正面朝上，赢得观众雷鸣般的掌声。其中一个观众不服气地说：“该不会你趁我们不注意，把硬币换成了两面都是正面的特殊硬币吧！如果你有本事的话，你给我们掷出一个‘正反正反……’的序列出来！”为了保住自己的颜面，魔术师只好把那枚正常的硬币变回手中，硬着头皮开始抛掷硬币。倘若魔术师抛掷硬币没有任何技巧，每次是正是反的概率相同，那么魔术师无限地抛掷下去，第一次出错更有可能出在什么地方？
>  
> 1. 该掷正面的时候掷出了反面
> 2. 该掷反面的时候掷出了正面
> 3. 上述两种情况的出现概率相同

把正面看作数字 1 ，反面看作数字 0 ，那么观众要求的目标序列就变成了 101010… 。如果在前面加一个小数点，这就变成了一个 0 到 1 之间的二进制小数 0.101010… ，它等于十进制中的 2/3 。而魔术师抛掷的硬币序列，则构成了一个 0 到 1 之间的随机数。如果某一次把 0 掷成了 1 ，就说明掷出的是一个比 2/3 更大的数；如果某一次把 1 掷成了 0 ，就说明掷出的是一个比 2/3 更小的数。显然，前者的概率是 1/3 ，后者的概率是 2/3 。

其实，这个答案有一个非常直观的解释。想象 A 、B 两人玩一个掷硬币游戏。两人轮流抛掷硬币，但 A 必须掷出正面，B 必须掷出反面，谁掷错了谁就立即输掉游戏。如果 A 先抛硬币，谁输掉的概率更大？那当然是 A 输掉的概率更大，因为他先掷嘛！
 
# 四、直觉不可靠，三思而后行

> 东汉数学家徐岳《数术纪遗》载：“珠算控带四时，经纬三才。”  
> 北周甄鸾注云：“刻板为三分，位各五珠，上一珠与下四珠色别，其上别色之珠当五，其下四珠各当一。”

有一个二年级的寒假作业：小红在算盘上拨出了一个三位数，她发现靠梁的珠子一共有三个，分别是一个上珠和两个下珠，这个三位数最大是多少？最小呢？

当时别人问我的时候，我不假思索回答：700、205。

然后仔细想想，不对呀，两个下珠又不是绑定在一块的，可以分开呀，所以一定是 115。刚说出口马上想到进制的问题：

十进制的三位数，显然权重分别为 100、10、1，珠子的值分别是 5、1、1。各珠子相互独立但必须组成一个三位数。最大值肯定是 (5+1+1)\*100，最小肯定是 1\*100+(5+1)\*1。因此是 700 与 106。

最后，又重新审题一遍，发现 __靠梁__ 二字尤其璀璨夺目。靠梁如果指紧邻算盘中间的横梁，那么 700 只有两个珠子靠梁，显然是不对的。而且如果这样考虑，数字 9 也只有一个上珠和一个下珠靠梁。因此最后得到结果 940 与 106。

这个例子说明，做事应当三思而后行，直觉并不可靠，审题（理解他人心意）很重要。


